#用户组权限
sys
root
shell
user


#Android系统架构
1. Linux内核层
	1. 硬件驱动
	2. 进程管理
	3. 内存管理
	4. 安全机制
	5. 电源管理
2. 硬件抽象层HAL
	1. 硬件提供接口
3. 系统运行时库 Android Runtime
4. 应用java框架层
5. 应用层

动态加载：
应用分为loader和payload两部分，运行loader解密payload动态加载
破解：payload需要释放到文件系统当中，容易被窃取

不落地加载：
解密后的dex不写入文件，通过自定义application接管生命周期
破解：dump内存中的dex

指令抽离：
将DEX函数代码抽离到外部文件，运行时动态恢复

指令转换：
使用自定义的解释器代替系统解释器，依赖JNI接口交互

虚拟机保护：
将代码编译为虚拟机指令，通过独立执行环境运行核心代码，兼容多语言，反调试

代码混淆，资源加密，签名校验，反调试，防注入

#proot虚拟环境
proot是一个用户空间的工具，在非特权下模拟root权限的文件系统挂载
通过ptrace系统调用拦截和修改子进程行为，实现虚拟的文件系统挂载
由于 proot 依赖 ptrace，常规的基于 ptrace 的调试工具（如 gdb）无法正常工作

#文件系统挂载
将一个存储设备或虚拟文件系统关联到操作系统的目录树，使得用户可以访问其中的文件和目录。

### `ld.so.preload`
预加载指定的共享库,劫持或者修改程序行为

Android启动
1. 启动**Bootloader**:**Bootloader**是一种特殊的引导程序，它负责从固件（**firmware**）中启动操作系统。
    
2. 加载内核：内核是**Android**操作系统的核心，它负责管理设备的资源，如处理器、内存、存储空间和其他硬件。
    
3. 加载init进程：**Init**进程是**Android**系统的最初进程，用于启动和管理其他进程。
    
4. 加载Zygote进程：**Zygote**进程是**Android**系统的核心，它负责加载应用程序的库，以及创建新的应用程序实例。
    
5. 加载dalvik虚拟机：**Dalvik**虚拟机是**Android**系统中的虚拟机，它负责为应用程序提供运行环境，并且负责执行应用程序代码。
    
6. 加载系统服务和应用程序：**Android**系统会加载一些系统服务和应用程序，这些服务和应用程序负责完成设备上的基本任务和功能。
    
7. 启动桌面：当系统服务和应用程序加载完毕后，**Android**系统会启动桌面，这样用户就可以开始使用设备了。